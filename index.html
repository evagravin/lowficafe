<!DOCTYPE html>
<html>
<head>
	<title>loficafe</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">


</head>
<body>
	
<style type="text/css" rel="stylesheet">

#messages {

    overflow-y: scroll;

}

</style>
	<p>hello there everyone</p>

	<div id="messages">
		
	</div>

	<input type="text" id="user_message" placeholder="Type Here">
	<button type="button" id="send_message">Send</button>


	<script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js" integrity="sha256-yr4fRk/GU1ehYJPAs8P4JlTgu0Hdsp4ZKrx8bDEDC3I=" crossorigin="anonymous"></script>
	<script type="text/javascript">
		document.addEventListener('DOMContentLoaded', () => {
		var socket = io();

		//send message to the server when user connects
		socket.on('connect', () => {
			socket.send("I am connected!");
		});

		//message is recieved from the server
		socket.on('message', data => {
			const p = document.createElement('p');
			p.innerHTML = data;
			document.querySelector("#messages").append(p);
		});

		//send message to the server when the Send button is pressed
		document.querySelector("#send_message").addEventListener('click', () => 
			socket.send(document.querySelector("#user_message").value));
		
		//get rid of button text once button is pressed
		document.querySelector("#send_message").addEventListener('click', () => 
			document.querySelector("#user_message").value = "");


	})

	
	

	</script>
	
</body>
</html>
